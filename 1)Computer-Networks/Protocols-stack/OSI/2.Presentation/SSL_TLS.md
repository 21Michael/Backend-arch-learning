# SSL / TLS 

# 1) SSL (Secure Socket Layer):
**Secure Socket Layer (SSL)** provides security to the data that is transferred between 
web browser and server. SSL encrypts the link between a web server and a browser which
ensures that all data passed between them remain private and free from attack.

## SSL sub-protocols:
![link](https://media.geeksforgeeks.org/wp-content/uploads/20190610161956/161.jpg)

  - ### SSL record protocol
    **SSL Record provides two services to SSL connection:**
      - Confidentiality;
      - Message Integrity;
    
    **<ins>Protocol steps:</ins>**  
    `1)` In the SSL Record Protocol application data is divided into fragments.  
    `2)` The fragment is compressed and then encrypted MAC (Message Authentication Code)
    generated by algorithms like SHA (Secure Hash Protocol) and MD5 (Message Digest) is
    appended.  
    `3)` After that encryption of the data is done and in last SSL header is appended 
    to the data.
    
    ![link](https://media.geeksforgeeks.org/wp-content/uploads/20190610162031/171.jpg)
    
  - ### Handshake protocol  
    Handshake Protocol is used to establish sessions. This protocol allows the client 
    and server to authenticate each other by sending a series of messages to each other.
    Handshake protocol uses four phases to complete its cycle.  
    **<ins>Protocol steps:</ins>**  
    `1)` Phase-1: In Phase-1 both Client and Server send hello-packets to each other. In
    this IP session, cipher suite and protocol version are exchanged for security purposes.  
    `2)` Phase-2: Server sends his certificate and Server-key-exchange. The server end
    phase-2 by sending the Server-hello-end packet.  
    
    ### SSL certificate
    **An SSL certificate** is a data file hosted in a website's origin server. SSL 
    certificates make SSL/TLS encryption possible, and they contain the website's 
    public key and the website's identity, along with related information. Devices 
    attempting to communicate with the origin server will reference this file to 
    obtain the public key and verify the server's identity. The private key is kept
    secret and secure.  
    **SSL certificates include:**
    - The domain name that the certificate was issued for
    - Which person, organization, or device it was issued to
    - Which certificate authority issued it
    - The certificate authority's digital signature
    - Associated subdomains
    - Issue date of the certificate
    - Expiration date of the certificate
    - The public key (the private key is kept secret)
      
    ![link](https://sectigostore.com/page/wp-content/uploads/2019/10/anatamy-of-digital-certificate.png)
    
    `3)` Phase-3: In this phase Client reply to the server by sending his certificate 
    and Client-exchange-key.  
    `4)` Phase-4: In Phase-4 Change-cipher suite occurred and after this Handshake 
    Protocol ends.  
  - ### Change-cipher spec protocol
    Этот протокол используется исключительно  для уведомления хостами друг друга об 
    изменении в использовании шифровании, т.е. при переходе в передаче данных в 
    нешифрованном виде к передаче зашифрованных данных.
    Состоит из единственного сообщения, которое содержит 1 байт со значением 1, которое 
    отправляется и клиентом и сервером на стадии рукопожатия.
    ![link](https://player.slideplayer.com/38/10784279/data/images/img44.jpg)
  - ### Alert protocol
    This protocol is used to convey SSL-related alerts to the peer entity. Each message 
    in this protocol contain 2 bytes.  
    **The level is further classified into two parts:**  
    - **Warning:** This Alert has no impact on the connection between sender and receiver.  
    - **Fatal Error:** This Alert breaks the connection between sender and receiver.
    
##2) TLS (Transport Layer Security):
**TLS (Transport Layer Security)** - is just an updated, more secure, version of SSL.

### Differences between SSL and TLS:
  - ### Cipher suites
    SSL protocol offers support for Fortezza cipher suite. TLS does not offer support. 
    TLS follows a better standardization process that makes defining of new cipher suites
    easier like RC4, Triple DES, AES, IDEA, etc.

  - ### Alert messages
    SSL has the “No certificate” alert message. TLS protocol removes the alert message 
    and replaces it with several other alert messages.

  - ### Record Protocol
    SSL uses Message Authentication Code (MAC) after encrypting each message while TLS
    on the other hand uses HMAC — a hash-based message authentication code after each 
    message encryption.

  - ### Handshake process
    In SSL, the hash calculation also comprises the master secret and pad while in TLS,
    the hashes are calculated over handshake message.

  - ### Message Authentication
    SSL message authentication adjoins the key details and application data in ad-hoc 
    way while TLS version relies on HMAC Hash-based Message Authentication Code.
    
## Scheme:
![link](https://drive.google.com/uc?id=1BJ9nwQm4K9qWvJ_MJaBTFPBohBLFcU0T)