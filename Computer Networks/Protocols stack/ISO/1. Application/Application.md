# Application Layer (прикладной уровень)  

**Протокол прикладного уровня (Application layer)** — протокол верхнего (7-го) уровня сетевой модели
OSI, обеспечивает взаимодействие сети и пользователя. Уровень разрешает приложениям пользователя 
иметь доступ к сетевым службам, таким, как обработчик запросов к базам данных, доступ к файлам,
пересылке электронной почты. Также отвечает за передачу служебной информации, предоставляет 
приложениям информацию об ошибках и формирует запросы к уровню представления. 

## Protocols:

### 1. HTTP 
**Протокол передачи гипертекста (Hypertext Transfer Protocol - HTTP)**  - это прикладной протокол
для передачи гипертекстовых документов, таких как HTML. Он создан для связи между веб-браузерами и
веб-серверами, хотя в принципе HTTP может использоваться и для других целей. Протокол следует
классической клиент-серверной модели, когда клиент открывает соединение для создания запроса, а
затем ждёт ответа. HTTP - это протокол без сохранения состояния, то есть сервер не сохраняет
никаких данных (состояние) между двумя парами "запрос-ответ". Несмотря на то, что HTTP основан
на TCP/IP, он также может использовать любой другой протокол (UDP) транспортного уровня с гарантированной
доставкой.

     
### 2. Telnet
**Протокол telnet,** созданный на основе TCP, позволяет передавать на удаленный сервер простые 
текстовые команды для ручного управления процессами и включения взаимодействия между ними. 
Несмотря на повальный переход на SSH, утилита продолжает повсеместно использоваться.

### 3. FTP
**FTP или File Transfer Protocol** — это один из базовых протоколов передачи файлов, предназначенный 
для передачи файлов в сети между компьютерами. С его помощью можно подключаться к FTP-серверам,
просматривать содержимое их каталогов и загружать файлы с сервера или на сервер.

Протокол FTP в «чистом виде», хоть и является стандартом де-факто для переноса файлов между 
удаленными компьютерами, имеет серьезные проблемы с безопасностью (пароль передается по сети 
в незашифрованном виде). Поэтому мы настоятельно рекомендуем использовать безопасные протоколы 
**FTPS или SFTP.**

**По FTP-протоколу можно скачивать что угодно:** фильмы, музыку, документы, программы, драйверы и
картинки. Сейчас многие производители железа выкладывают драйверы от устройств на FTP-серверы,
чтобы их могли скачать все желающие.

В корпоративной среде FTP используется для **организации локального хранилища внутренних документов
и файлов для работы.** Например, там могут храниться видеолекции или архивные сканы документов. Ещё
FTP позволяет загружать свои файлы на сервер, чтобы их мог скачать любой желающий.

Программисты иногда используют такие серверы для обмена файлами и для бэкапов кода, хотя многие 
для этого предпочитают GIT.

**Разница в получении файлов через HTTP vs FTP:**

  - Для FTP не нужен сайт, то есть веб-интерфейс. Не нужно запускать веб-сервер, настраивать 
    шаблоны вывода списка файлов и поднимать отдельную программу, которая будет нам отдавать 
    эти файлы (типа Вордпресса). FTP — это как доступ к удаленной папке: ты сразу видишь файлы
    и можешь их качать, без посредников. А в вебе нужна какая-то программа, которая «нарисует»
    тебе файловую систему и поставит ссылки на файлы.
  - В FTP уже реализованы вопросы авторизации и прав. А в вебе их нужно создавать: например, 
    ставить тот же Вордпресс и к нему прикручивать плагины с системой доступа. Или настраивать 
    Apache, генерировать ключи доступа, раскладывать конфигурационные файлы по папкам — это 
    гораздо менее элегантно, чем настройка FTP.
  - В FTP можно разрешить или запретить отдельным пользователям загружать файлы на FTP-сервер.
    В вебе загрузка файлов от пользователя на сервер — это на порядок более сложная задача.

### 4. SMTP
**SMTP** — это простой протокол передачи почты. С английского языка переводится, как Simple Mail
Transfer Protocol. Исходя из названия, можно сделать вывод, что SMTP сервер отвечает за отправку
почтовых рассылок. 

**Его задача, как правило, состоит из двух основных функций:**  
  - проверка правильности настроек и выдача разрешения компьютеру, который пытается отправить
    электронное сообщение;  
  - отправка исходящего сообщения на указанный адрес и подтверждение успешной отправки сообщения.
    Если доставка невозможна, сервер возвращает отправителю ответ с ошибкой отправки.

Отправляя email сообщения, SMTP-сервер отправителя устанавливает связь с тем сервером, 
который будет получать это сообщение. Такое "общение" происходит путем отправки и получения 
команд, формируя SMTP-сессию с неограниченным количеством SMTP-операций. 

**Обязательными командами для каждой операции являются три:**  
  - определение обратного адреса (MAILFROM)
  - определение получателя email сообщения (RCPT TO)
  - отправка текста сообщения (DATA)

**Преимущественно с помощью SMTP отправляют массовые и транзакционные рассылки.**

Иногда протокол SMTP путают с IMAP или POP. Но между ними есть существенная разница. SMTP
применяют для пересылки писем, тогда как POP или IMAP используют для обработки этих писем 
после получения.

![link](https://www.unisender.com/wp-content/uploads/2018/05/01-2-1024x344.png)

### 5. DNS
**DNS (domain name system)** - это система, обеспечивающая работу привычных нам доменных имен
сайтов. Связь между устройствами в сети Интернет осуществляется по IP адресам, например: 
"192.64.147.209". Однако, запомнить IP адреса сложно, поэтому были придуманы удобные для человека
доменные имена, например: "google.com".

Компьютер / сервер не хранит таблицу соответствия доменов и их IP адресов. Точнее, не хранит всю 
таблицу, а временно запоминает данные для часто используемых доменов. Когда в браузере вводится
домен сайта, компьютер автоматически узнает его IP адрес, и отправляет по нему запрос. Этот процесс
называется «разрешение адреса домена» (domain resolving).

###Компоненты DNS:

**1. Иерархическая структура доменных имен:**
  - **Доменные зоны верхнего уровня (первого уровня)** – например: "ru", "com", или "org". Они 
    включают в себя все доменные имена, входящие в эту зону. В любую доменную зону может входить 
    неограниченное количество доменов.
  - **Доменные имена (доменные зоны второго уровня)** – например: "google.com" или "yandex.ru". Т.к.
    система доменных имен является иерархичной, то "yandex.ru" можно также назвать поддоменом
    вышестоящей зоны "ru". Поэтому, правильнее указывать именно уровень домена. Однако, на 
    практике, доменную зону любого уровня называют просто «доменом».
  - **Поддомены (доменные зоны третьего уровня)** – например: "api.google.com" или "mail.yandex.ru".
    Могут быть доменные зоны 4, 5 уровней и так далее.
    
**2. DNS сервер или NS (name server) сервер** – поддерживает (обслуживает) доменные зоны, которые
ему делегированы. Он непосредственно хранит данные о ресурсных записях для зоны. Например, что 
сервер, на котором находится сайт "example.ru", имеет IP адрес "1.1.1.1". DNS сервер отвечает на 
все запросы, касательной этих доменных зон. Если ему приходит запрос о домене, который ему не
делегирован, то он спрашивает ответ у других DNS серверов.

**3. DNS записи (ресурсные записи)** – это набор записей о доменной зоне на NS сервере, которые 
хранят данные необходимые для работы DNS. На основании данных в этих записях, DNS сервер отвечает 
на запросы по домену. Список записей, и их значение, вы можете найти ниже.

**4. Корневые DNS сервера (на данный момент их 13 во всем мире)** хранят данные о том, какие DNS 
сервера обслуживают зоны верхнего уровня.

**5. DNS сервера доменных зон верхнего уровня** - хранят информацию, какие NS сервера обслуживают 
тот или иной домен.

![link](https://neoserver.ru/sites/neoserver.ru/files/help-files/DNS.jpg)

### 6. NFS
**NFS (англ. Network File System)** — протокол сетевого доступа к файловым системам, первоначально
разработан Sun Microsystems в 1984 году. Основан на протоколе вызова удалённых процедур (ONC RPC). 
Позволяет подключать (монтировать) удалённые файловые системы через сеть.[1]

NFS абстрагирован от типов файловых систем как сервера, так и клиента, существует множество 
реализаций NFS-серверов и клиентов для различных операционных систем и аппаратных архитектур. 
Наиболее зрелая версия NFS — v.4, поддерживающая различные средства аутентификации (в частности, 
Kerberos и LIPKEY с использованием протокола RPCSEC GSS) и списков контроля доступа (как POSIX, 
так и Windows-типов).

NFS предоставляет клиентам прозрачный доступ к файлам и файловой системе сервера. В отличие
от FTP, протокол NFS осуществляет доступ только к тем частям файла, к которым обратился процесс, 
и основное достоинство его в том, что он делает этот доступ прозрачным. Это означает, что любое 
приложение клиента, которое может работать с локальным файлом, с таким же успехом может работать 
и с NFS файлом, без каких либо модификаций самой программы.

### 7. WebSocket